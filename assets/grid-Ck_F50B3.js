import{b as w,c as G,u as V,a as M,E as T}from"./index-C2AhXWuI.js";import{p as A,_ as L,o as x,c as k,f as u,a as v,d as S,w as b,ao as j,al as F}from"./app-BIv4BGsj.js";import{u as z,E as N}from"./index-XVBT3eyP.js";const O=A({name:"ElAmapLocaGrid",inheritAttrs:!1,__name:"GridLayer",props:w({cullface:{type:String},acceptLight:{type:Boolean,default:!0},shininess:{type:Number},hasSide:{type:Boolean,default:!0},depth:{type:Boolean,default:!0}}),emits:G,setup(l,{expose:_,emit:t}){const o=l,c=t;let n,p,d;const{$$getInstance:g,parentInstance:m}=z(i=>new Promise(E=>{n=new Loca.GridLayer(i);const h=M({parentInstance:m,$amapComponent:n,emits:c,props:o,setStyle(){const s=Object.assign({},{topColor:"#fff",sideTopColor:"#fff",sideBottomColor:"#fff",altitude:0,height:0,radius:1e3,gap:0,unit:"meter"},o.defaultStyleValue),e={topColor:(y,r)=>(r.properties=r.properties||{},r.properties.topColor===void 0?s.topColor:r.properties.topColor),sideTopColor:(y,r)=>(r.properties=r.properties||{},r.properties.sideTopColor===void 0?s.sideTopColor:r.properties.sideTopColor),sideBottomColor:(y,r)=>(r.properties=r.properties||{},r.properties.sideBottomColor===void 0?s.sideBottomColor:r.properties.sideBottomColor),altitude:(y,r)=>(r.properties=r.properties||{},r.properties.altitude===void 0?s.altitude:r.properties.altitude),height:(y,r)=>(r.properties=r.properties||{},r.properties.height===void 0?s.height:r.properties.height),radius:s.radius,gap:s.gap,unit:s.unit},B=Object.assign({},e,o.layerStyle);n.setStyle(B)}});p=h._destroyComponent,d=h.setSource,E(n)}),{emits:c,watchRedirectFn:V({setSource(){d&&d()},$amapComponent:()=>n,props:o}),destroyComponent(){p&&p(),n=null}});_({$$getInstance:g});const f={props:o,emits:c,get $amapComponent(){return n},set $amapComponent(i){n=i},get _destroyComponent(){return p},set _destroyComponent(i){p=i},get _setSource(){return d},set _setSource(i){d=i},$$getInstance:g,parentInstance:m};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});function P(l,_,t,o,c,n){return x(),k("div")}const C=L(O,[["render",P],["__file","GridLayer.vue"]]);C.install=l=>(l.component(C.name,C),l);const D=C,I=A({__name:"grid",setup(l,{expose:_}){_();const t=["#FAE200","#D27E37","#C53634","#C12B6E","#A92E9A","#67238A","#211A50","#18244E"].reverse(),o=[100,200,400,600,800,1400,1800,4e3],c=u(11),n=u([114.341232,30.567523]),p=u(55),d=u("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/wh_car.json"),g=u({unit:"meter",radius:66,gap:0,altitude:100,height(a,s){const e=s.coordinates&&s.coordinates.length||0;return e<5?o[0]:e<10?o[1]:e<20?o[2]:e<30?o[3]:e<50?o[4]:e<80?o[5]:e<100?o[6]:o[7]},topColor(a,s){const e=s.coordinates&&s.coordinates.length||0;return e<5?t[0]:e<10?t[1]:e<20?t[2]:e<30?t[3]:e<50?t[4]:e<80?t[5]:e<100?t[6]:t[7]},sideTopColor(a,s){const e=s.coordinates&&s.coordinates.length||0;return e<5?t[0]:e<10?t[1]:e<20?t[2]:e<30?t[3]:e<50?t[4]:e<80?t[5]:e<100?t[6]:t[7]},sideBottomColor(a,s){const e=s.coordinates&&s.coordinates.length||0;return e<5?t[0]:e<10?t[1]:e<20?t[2]:e<30?t[3]:e<50?t[4]:e<80?t[5]:e<100?t[6]:t[7]}}),m=u(!0),h={colors:t,heights:o,zoom:c,center:n,pitch:p,sourceUrl:d,layerStyle:g,visible:m,changeVisible:()=>{m.value=!m.value},clickMap:a=>{console.log("click map: ",a)},initMap:a=>{console.log("init map: ",a)},get ElAmap(){return N},get ElAmapLoca(){return T},get ElAmapLocaGrid(){return D}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),R={class:"map-page-container"},$={class:"toolbar"};function U(l,_,t,o,c,n){return x(),k(F,null,[v("div",R,[S(o.ElAmap,{"view-mode":"3D",pitch:o.pitch,"show-label":!1,center:o.center,zoom:o.zoom,onClick:o.clickMap,onInit:o.initMap},{default:b(()=>[S(o.ElAmapLoca,null,{default:b(()=>[S(o.ElAmapLocaGrid,{visible:o.visible,"source-url":o.sourceUrl,"layer-style":o.layerStyle},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),v("div",$,[v("button",{onClick:o.changeVisible},j(o.visible?"隐藏":"显示"),1)])],64)}const J=L(I,[["render",U],["__file","grid.vue"]]);export{J as default};
