import{b,p as D,u as k,i as g,a as O,d as v}from"./index-XVBT3eyP.js";import{p as h,ac as M,_ as A,o as E,c as S,ad as w,aq as V}from"./app-BIv4BGsj.js";import{u as P}from"./useEditor-CRncnCXg.js";const j=h({name:"ElAmapLayerVector",inheritAttrs:!1,__name:"Vector",props:b({}),emits:["init"],setup(s,{expose:m,emit:c}){const l=[],p={$amapComponent:void 0,addChildComponent(o){l.push(o)},isDestroy:!1};M(D,p);const t=c;let i;const{$$getInstance:r,parentInstance:a}=k((o,u)=>new Promise(f=>{i=new AMap.VectorLayer(o),u.add(i),f(i)}),{emits:t,needInitComponents:l,provideData:p,destroyComponent(){i&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(i),i=null)}});m({$$getInstance:r});const n={needInitComponents:l,provideData:p,emits:t,get $amapComponent(){return i},set $amapComponent(o){i=o},$$getInstance:r,parentInstance:a};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function B(s,m,c,l,p,t){return E(),S("div",null,[w(s.$slots,"default")])}const _=A(j,[["render",B],["__file","Vector.vue"]]);_.install=s=>(s.component(_.name,_),s);const F=_,L=b({center:{type:Array,required:!0},radius:{type:Number,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:s=>["solid","dashed"].indexOf(s)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}}),N=h({name:"ElAmapCircle",inheritAttrs:!1,__name:"Circle",props:L,emits:["init","update:center","update:radius"],setup(s,{expose:m,emit:c}){const l=s,p=c;let t;const{$$getInstance:i,parentInstance:r}=k((e,d)=>new Promise(x=>{t=new AMap.Circle(e),g(d)?d.add(t):O(d)?d.addOverlay(t):v(d)&&d.add(t),a(),x(t)}),{emits:p,watchRedirectFn:{__zIndex(e){t&&t.setOptions({zIndex:e})},__strokeColor(e){t&&t.setOptions({strokeColor:e})},__strokeOpacity(e){t&&t.setOptions({strokeOpacity:e})},__strokeWeight(e){t&&t.setOptions({strokeWeight:e})},__fillColor(e){t&&t.setOptions({fillColor:e})},__fillOpacity(e){t&&t.setOptions({fillOpacity:e})},__strokeStyle(e){t&&t.setOptions({strokeStyle:e})},__strokeDasharray(e){t&&t.setOptions({strokeDasharray:e})},__editable(e){f().then(()=>{e?o.open():o.close()})}},destroyComponent(){t&&(r!=null&&r.$amapComponent)&&(o&&(r.isDestroy||o.close(),o=null),r.isDestroy||(g(r.$amapComponent)?r.$amapComponent.remove(t):O(r.$amapComponent)?r.$amapComponent.removeOverlay(t):v(r.$amapComponent)&&r.$amapComponent.remove(t)),t.destroy&&t.destroy(),t=null)}}),a=()=>{t.on("dragend",()=>{n(t)}),t.on("touchend",()=>{n(t)})},n=e=>{p("update:center",e.getCenter().toArray()),p("update:radius",e.getRadius())};let o;const u=V(),f=()=>new Promise(e=>{o?e():AMap.plugin(["AMap.CircleEditor"],()=>{o=new AMap.CircleEditor(r==null?void 0:r.$amapComponent,t,l.editOptions),P(o,u),C(),e()})}),C=()=>{o.on("addnode",e=>{n(e.target)}),o.on("adjust",e=>{n(e.target)}),o.on("removenode",e=>{n(e.target)}),o.on("add",e=>{n(e.target)}),o.on("end",e=>{n(e.target)}),o.on("move",e=>{n(e.target)})};m({$$getInstance:i});const $={props:l,emits:p,get $amapComponent(){return t},set $amapComponent(e){t=e},$$getInstance:i,parentInstance:r,bindModelEvents:a,emitModel:n,get editor(){return o},set editor(e){o=e},attrs:u,createEditor:f,bindEditorModelEvents:C};return Object.defineProperty($,"__isScriptSetup",{enumerable:!1,value:!0}),$}});function q(s,m,c,l,p,t){return E(),S("div")}const y=A(N,[["render",q],["__file","Circle.vue"]]);y.install=s=>(s.component(y.name,y),s);const G=y;export{F as E,G as a};
