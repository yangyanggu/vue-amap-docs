import{b as x,u as z,E as C}from"./index-XVBT3eyP.js";import{p as h,_ as y,o as v,c as A,f as l,a as u,d as b,w as E,al as w}from"./app-BIv4BGsj.js";const I=h({name:"ElAmapMassMarks",inheritAttrs:!1,__name:"MassMarks",props:x({data:{type:Array,required:!0},zooms:{type:Array},cursor:{type:String},styles:{type:[Array,Object]}}),emits:["init","update:center"],setup(r,{expose:c,emit:i}){const e=i;let a;const{$$getInstance:n,parentInstance:s}=z((o,d)=>new Promise(k=>{const M=o.data;delete o.data,a=new AMap.MassMarks(M,o),a.setMap(d),k(a)}),{emits:e,propsRedirect:{styles:"style"},destroyComponent(){a&&(s!=null&&s.$amapComponent)&&(a.clear(),a.setMap(null),a=null)}});c({$$getInstance:n});const p={emits:e,get $amapComponent(){return a},set $amapComponent(o){a=o},$$getInstance:n,parentInstance:s};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function S(r,c,i,e,a,n){return v(),A("div")}const m=y(I,[["render",S],["__file","MassMarks.vue"]]);m.install=r=>(r.component(m.name,m),r);const j=m,V=h({__name:"mass-marker",setup(r,{expose:c}){c();const i=l(5),e=l([102.342785,35.312316]),a=l([]),n=l([{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:[6,6],size:[11,11],zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:[4,4],size:[7,7],zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:[3,3],size:[5,5],zIndex:1}]),s=l(!0),f={zoom:i,center:e,points:a,styles:n,visible:s,changeVisible:()=>{s.value=!s.value},clickMap:t=>{console.log("click map: ",t)},initMap:t=>{console.log("init map: ",t),fetch("//a.amap.com/jsapi_demos/static/citys.js").then(_=>_.text()).then(_=>{const g=_.split("=");g.length===2&&(a.value=JSON.parse(g[1].trim()))})},markerInit:t=>{console.log("marker init: ",t)},clickMarker:t=>{console.log("marker click: ",t)},get ElAmap(){return C},get ElAmapMassMarks(){return j}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),O={class:"map-page-container"};function P(r,c,i,e,a,n){return v(),A(w,null,[u("div",O,[b(e.ElAmap,{"show-label":!1,center:e.center,zoom:e.zoom,onClick:e.clickMap,onInit:e.initMap},{default:E(()=>[b(e.ElAmapMassMarks,{visible:e.visible,data:e.points,styles:e.styles,onInit:e.markerInit,onClick:e.clickMarker},null,8,["visible","data","styles"])]),_:1},8,["center","zoom"])]),u("div",{class:"toolbar"},[u("button",{onClick:e.changeVisible}," 显隐 ")])],64)}const N=y(V,[["render",P],["__file","mass-marker.vue"]]);export{N as default};
