import{b as v,u as h,E as S}from"./index-XVBT3eyP.js";import{p as b,_ as y,o as f,c as M,f as u,a as d,d as A,w as g,q as x,s as C,ao as E,al as H}from"./app-BIv4BGsj.js";const j=b({name:"ElAmapLayerHeatMap",inheritAttrs:!1,__name:"HeatMap",props:v({radius:{type:Number},gradient:{type:Object},zooms:{type:Array},opacity:{type:Object},config:{type:Object},dataSet:{type:Object}}),emits:["init"],setup(n,{expose:s,emit:r}){const e=n,o=r;let t;const{$$getInstance:l,parentInstance:i}=h((a,m)=>new Promise(c=>{AMap.plugin(["AMap.HeatMap"],()=>{delete a.dataSet,t=new AMap.HeatMap(m,a),e.dataSet&&t.setDataSet(e.dataSet),c(t)})}),{emits:o,destroyComponent(){t&&(i!=null&&i.$amapComponent)&&(t.setDataSet({data:[],max:0}),t.setMap(null),t=null)}});s({$$getInstance:l});const p={props:e,emits:o,get $amapComponent(){return t},set $amapComponent(a){t=a},$$getInstance:l,parentInstance:i};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function w(n,s,r,e,o,t){return f(),M("div")}const _=y(j,[["render",w],["__file","HeatMap.vue"]]);_.install=n=>(n.component(_.name,_),n);const O=_,$=b({__name:"heat-map",setup(n,{expose:s}){s();const r=u(11),e=u([116.418261,39.921984]),o=u(null),t=u(!0),p={zoom:r,center:e,dataSet:o,visible:t,switchVisible:()=>{t.value=!t.value},initMap:()=>{fetch("//a.amap.com/jsapi_demos/static/resource/heatmapData.js").then(a=>a.text()).then(a=>{const m=a.split("=");if(m.length===2){let c=m[1].trim();c=c.replace(";",""),o.value={data:JSON.parse(c),max:100}}})},get ElAmap(){return S},get ElAmapLayerHeatMap(){return O}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),V={class:"map-page-container"},k={class:"toolbar"};function z(n,s,r,e,o,t){return f(),M(H,null,[d("div",V,[A(e.ElAmap,{center:e.center,zoom:e.zoom,onInit:e.initMap},{default:g(()=>[e.dataSet?(f(),x(e.ElAmapLayerHeatMap,{key:0,visible:e.visible,"data-set":e.dataSet},null,8,["visible","data-set"])):C("",!0)]),_:1},8,["center","zoom"])]),d("div",k,[d("button",{onClick:s[0]||(s[0]=l=>e.switchVisible())},E(e.visible?"隐藏":"显示"),1)])],64)}const D=y($,[["render",z],["__file","heat-map.vue"]]);export{D as default};
