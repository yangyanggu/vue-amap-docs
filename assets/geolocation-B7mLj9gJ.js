import{b as g,u as C,E as v}from"./index-XVBT3eyP.js";import{p as _,_ as y,f as u,o as A,c as B,a as m,d as f,w as h,ao as G,al as S}from"./app-BIv4BGsj.js";const w=g({position:{type:String},offset:{type:Array},borderColor:{type:String},borderRadius:{type:String},buttonSize:{type:String},convert:{type:Boolean,default:!0},enableHighAccuracy:{type:Boolean,default:!1},timeout:{type:Number},maximumAge:{type:Number},showButton:{type:Boolean,default:!0},showCircle:{type:Boolean,default:!0},showMarker:{type:Boolean,default:!0},markerOptions:{type:Object},circleOptions:{type:Object},panToLocation:{type:Boolean,default:!0},zoomToAccuracy:{type:Boolean,default:!0},GeoLocationFirst:{type:Boolean,default:!0},noIpLocate:{type:Number},noGeoLocation:{type:Number},useNative:{type:Boolean,default:!1},getCityWhenFail:{type:Boolean,default:!1},needAddress:{type:Boolean,default:!1},extensions:{type:String,validator:n=>["base","all"].indexOf(n)!==-1}}),x=_({name:"ElAmapControlGeolocation",inheritAttrs:!1,__name:"Geolocation",props:w,emits:["init","complete"],setup(n,{expose:a,emit:r}){const o=r;let e;const l=i=>{o("complete",i)},{$$getInstance:s,parentInstance:t}=C((i,d)=>new Promise(b=>{d.plugin(["AMap.Geolocation"],()=>{e=new AMap.Geolocation(i),d.addControl(e),e.on("complete",l),b(e)})}),{emits:o,destroyComponent(){e.off("complete",l),e&&(t!=null&&t.$amapComponent)&&(t!=null&&t.isDestroy||t==null||t.$amapComponent.removeControl(e),e=null)}});a({$$getInstance:s});const c={emits:o,get $amapComponent(){return e},set $amapComponent(i){e=i},emitComplete:l,$$getInstance:s,parentInstance:t};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function E(n,a,r,o,e,l){return null}const p=y(x,[["render",E],["__file","Geolocation.vue"]]);p.install=n=>(n.component(p.name,p),n);const $=p,L=_({__name:"geolocation",setup(n,{expose:a}){a();const r=u(12),o=u([121.59996,31.197646]),e=u(!0),t={zoom:r,center:o,visible:e,switchVisible:()=>{e.value=!e.value},getLocation:c=>{console.log("getLocation: ",c)},get ElAmap(){return v},get ElAmapControlGeolocation(){return $}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),N={class:"map-page-container"},O={class:"toolbar"};function z(n,a,r,o,e,l){return A(),B(S,null,[m("div",N,[f(o.ElAmap,{center:o.center,zoom:o.zoom},{default:h(()=>[f(o.ElAmapControlGeolocation,{visible:o.visible,onComplete:o.getLocation},null,8,["visible"])]),_:1},8,["center","zoom"])]),m("div",O,[m("button",{onClick:a[0]||(a[0]=s=>o.switchVisible())},G(o.visible?"隐藏":"显示"),1)])],64)}const j=y(L,[["render",z],["__file","geolocation.vue"]]);export{j as default};
