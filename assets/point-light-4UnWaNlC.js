import{p as L,_ as b,o as A,c as E,f as l,a as g,d as h,w as y,ao as C,al as P}from"./app-BIv4BGsj.js";import{b as x,u as k,E as F}from"./index-XVBT3eyP.js";import{E as S}from"./index-C2AhXWuI.js";import{E as w}from"./index-CMV7vHea.js";const B=L({name:"ElAmapLocaPointLight",inheritAttrs:!1,__name:"PointLight",props:x({color:{type:String},intensity:{type:Number},position:{type:Array,required:!0},distance:{type:Number}}),emits:["init"],setup(s,{expose:p,emit:m}){const o=m;let i;const{$$getInstance:c,parentInstance:t}=k((u,_)=>new Promise(f=>{i=new Loca.PointLight(u),_.addLight(i),f(i)}),{emits:o,destroyComponent(){i&&(t!=null&&t.$amapComponent)&&(t.isDestroy||t.$amapComponent.removeLight(i),i=null)}});p({$$getInstance:c});const n={emits:o,get $amapComponent(){return i},set $amapComponent(u){i=u},$$getInstance:c,parentInstance:t};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function M(s,p,m,o,i,c){return A(),E("div")}const d=b(B,[["render",M],["__file","PointLight.vue"]]);d.install=s=>(s.component(d.name,d),s);const z=d,V=L({__name:"point-light",setup(s,{expose:p}){p();const m=l(11),o=l([120.109233,30.246411]),i=l(55),c=l("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/hz_gn.json"),t=["#FFF8B4","#D3F299","#9FE084","#5ACA70","#00AF53","#00873A","#006B31","#004835","#003829"].reverse(),n=[1e3,2e3,4e3,6e3,8e3,1e4,12e3,14e3,16e3],u=l({topColor(r,a){const e=a.properties.health*100;return e<40?t[8]:e<50?t[7]:e<55?t[6]:e<60?t[5]:e<65?t[4]:e<70?t[3]:e<75?t[2]:e<80?t[1]:e<100?t[0]:"green"},sideTopColor(r,a){const e=a.properties.health*100;return e<40?t[8]:e<50?t[7]:e<55?t[6]:e<60?t[5]:e<65?t[4]:e<70?t[3]:e<75?t[2]:e<80?t[1]:e<100?t[0]:"green"},sideBottomColor(r,a){const e=a.properties.health*100;return e<40?t[8]:e<50?t[7]:e<55?t[6]:e<60?t[5]:e<65?t[4]:e<70?t[3]:e<75?t[2]:e<80?t[1]:e<100?t[0]:"green"},height(r,a){const e=a.properties.health*100;return e<40?n[8]:e<50?n[7]:e<55?n[6]:e<60?n[5]:e<65?n[4]:e<70?n[3]:e<75?n[2]:e<80?n[1]:e<100?n[0]:0},altitude:0}),_=l(!0),v={zoom:m,center:o,pitch:i,sourceUrl:c,colors:t,height:n,layerStyle:u,visible:_,changeVisible:()=>{_.value=!_.value},clickMap:r=>{console.log("click map: ",r)},initMap:r=>{console.log("init map: ",r)},get ElAmap(){return F},get ElAmapLoca(){return S},get ElAmapLocaPointLight(){return z},get ElAmapLocaPolygon(){return w}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),D={class:"map-page-container"},N={class:"toolbar"};function j(s,p,m,o,i,c){return A(),E(P,null,[g("div",D,[h(o.ElAmap,{"view-mode":"3D",pitch:o.pitch,"show-label":!1,center:o.center,zoom:o.zoom,onClick:o.clickMap,onInit:o.initMap},{default:y(()=>[h(o.ElAmapLoca,null,{default:y(()=>[h(o.ElAmapLocaPointLight,{position:[o.center[0],o.center[1],1e3],distance:0,intensity:5,color:"#fff"},null,8,["position"]),h(o.ElAmapLocaPolygon,{visible:o.visible,"source-url":o.sourceUrl,"layer-style":o.layerStyle,"visible-duration":500},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),g("div",N,[g("button",{onClick:o.changeVisible},C(o.visible?"隐藏":"显示"),1)])],64)}const $=b(V,[["render",j],["__file","point-light.vue"]]);export{$ as default};
