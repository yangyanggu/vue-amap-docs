import{b as V,c as w,u as j,a as M,E as z}from"./index-C2AhXWuI.js";import{p as v,_ as k,o as C,c as E,f as p,a as g,d as S,w as L,ao as F,al as O}from"./app-BIv4BGsj.js";import{u as P,E as B}from"./index-XVBT3eyP.js";const I=v({name:"ElAmapLocaLink",inheritAttrs:!1,__name:"LinkLayer",props:V({}),emits:w,setup(a,{expose:m,emit:u}){const e=a,i=u;let o,s,l;const{$$getInstance:c,parentInstance:y}=P(n=>new Promise(_=>{o=new Loca.LinkLayer(n);const r=M({parentInstance:y,$amapComponent:o,emits:i,props:e,setStyle(){const d=Object.assign({},{lineColors:["rgba(255,255,255,1)","rgba(255,255,255,0)"],height:100,smoothSteps:100},e.defaultStyleValue),x=Object.assign({},{lineColors:(f,t)=>(t.properties=t.properties||{},t.properties.lineColors===void 0?d.lineColors:t.properties.lineColors),height:(f,t)=>(t.properties=t.properties||{},t.properties.height===void 0?d.height:t.properties.height),smoothSteps:(f,t)=>(t.properties=t.properties||{},t.properties.smoothSteps===void 0?d.smoothSteps:t.properties.smoothSteps)},e.layerStyle);o.setStyle(x)}});s=r._destroyComponent,l=r.setSource,_(o)}),{emits:i,watchRedirectFn:j({setSource(){l&&l()},$amapComponent:()=>o,props:e}),destroyComponent(){s&&s(),o=null}});m({$$getInstance:c});const b={props:e,emits:i,get $amapComponent(){return o},set $amapComponent(n){o=n},get _destroyComponent(){return s},set _destroyComponent(n){s=n},get _setSource(){return l},set _setSource(n){l=n},$$getInstance:c,parentInstance:y};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function N(a,m,u,e,i,o){return C(),E("div")}const h=k(I,[["render",N],["__file","LinkLayer.vue"]]);h.install=a=>(a.component(h.name,h),a);const R=h,$=v({__name:"link",setup(a,{expose:m}){m();const u=p(8),e=p([116.335036,39.900082]),i=p(55),o=p("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/bj_bus.json"),s=["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"].reverse(),l=p({lineColors:s,height:(r,A)=>r%s.length*200+40,smoothSteps:100}),c=p(!0),_={zoom:u,center:e,pitch:i,sourceUrl:o,colors:s,layerStyle:l,visible:c,changeVisible:()=>{c.value=!c.value},clickMap:r=>{console.log("click map: ",r)},initMap:r=>{console.log("init map: ",r)},get ElAmap(){return B},get ElAmapLoca(){return z},get ElAmapLocaLink(){return R}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),D={class:"map-page-container"},U={class:"toolbar"};function W(a,m,u,e,i,o){return C(),E(O,null,[g("div",D,[S(e.ElAmap,{"view-mode":"3D",pitch:e.pitch,"show-label":!1,center:e.center,zoom:e.zoom,onClick:e.clickMap,onInit:e.initMap},{default:L(()=>[S(e.ElAmapLoca,null,{default:L(()=>[S(e.ElAmapLocaLink,{visible:e.visible,"source-url":e.sourceUrl,"layer-style":e.layerStyle},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),g("div",U,[g("button",{onClick:e.changeVisible},F(e.visible?"隐藏":"显示"),1)])],64)}const K=k($,[["render",W],["__file","link.vue"]]);export{K as default};
