import{p,f,aD as u,aC as _,_ as m,o as l,c as g,q as C,s as d}from"./app-BIv4BGsj.js";import{E as A}from"./index-XVBT3eyP.js";function y(a){return new Promise(i=>{AMap.plugin("AMap.Geolocation",function(){const t=new AMap.Geolocation(a);i({getCurrentPosition:()=>new Promise((r,c)=>{t.getCurrentPosition(function(e,n){e==="complete"&&n.info==="SUCCESS"?r(n):c({status:e,result:n})})}),getCityInfo:()=>new Promise((r,c)=>{t.getCityInfo(function(e,n){e==="complete"&&n.info==="SUCCESS"?r(n):c({status:e,result:n})})})})})})}const P=p({__name:"geolocation",setup(a,{expose:i}){i();const t=f(null);u(()=>{_.then(()=>{y({enableHighAccuracy:!0,needAddress:!0}).then(s=>{const{getCurrentPosition:r,getCityInfo:c}=s;r().then(e=>{t.value=e.position.toArray(),console.log("currentPosition: ",e)}),c().then(e=>{console.log("cityResult: ",e)})})})});const o={center:t,get ElAmap(){return A}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),S={class:"map-page-container"};function h(a,i,t,o,s,r){return l(),g("div",S,[o.center?(l(),C(o.ElAmap,{key:0,center:o.center,zoom:18},null,8,["center"])):d("",!0)])}const M=m(P,[["render",h],["__file","geolocation.vue"]]);export{M as default};
