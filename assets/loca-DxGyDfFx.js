import{p as C,f as e,_ as D,o as M,c as S,a as r,d as l,w as v,ao as w,al as z}from"./app-BIv4BGsj.js";import{E as F}from"./index-XVBT3eyP.js";import{E as j}from"./index-C2AhXWuI.js";import{E as I}from"./index-Xg_g_mSF.js";const O=C({__name:"loca",setup(h,{expose:i}){i();const m=e(4.8),a=e([105.601,35.32]),p=e(55),c={1:"https://a.amap.com/Loca/static/loca-v2/demos/images/traffic-control.png",2:"https://a.amap.com/Loca/static/loca-v2/demos/images/jam.png",3:"https://a.amap.com/Loca/static/loca-v2/demos/images/construction.png",4:"https://a.amap.com/Loca/static/loca-v2/demos/images/close.png",5:"https://a.amap.com/Loca/static/loca-v2/demos/images/fog.png",0:"https://a.amap.com/Loca/static/loca-v2/demos/images/accident.png"},d=e({}),k=e({unit:"px",icon:(t,s)=>{const o=s.properties.rawData;return c[o.type%Object.keys(c).length]},iconSize:[40,40],rotation:0}),n=e(!0),y=()=>{n.value=!n.value},b=t=>{console.log("click map: ",t)},E=t=>{console.log("init map: ",t),_()},_=()=>{fetch("//a.amap.com/Loca/static/loca-v2/demos/mock_data/events.js").then(t=>t.text()).then(t=>{const s=t.split("=");let o=[];if(s.length===2&&(o=JSON.parse(s[1].trim())),o.length>0){const A=o[0].events.map(f=>{const u=f.lngLat.split(","),x=[parseFloat(u[0]),parseFloat(u[1])];return{type:"Feature",properties:{rawData:f},geometry:{type:"Point",coordinates:x}}});d.value=Object.freeze({type:"FeatureCollection",features:A})}})},g={zoom:m,center:a,pitch:p,trafficIcons:c,sourceData:d,layerStyle:k,visible:n,changeVisible:y,clickMap:b,initMap:E,createData:_,clickMarker:t=>{console.log("click marker: ",t)},get ElAmap(){return F},get ElAmapLoca(){return j},get ElAmapLocaIcon(){return I}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),V={class:"map-page-container"},B={class:"toolbar"};function N(h,i,m,a,p,c){return M(),S(z,null,[r("div",V,[l(a.ElAmap,{"view-mode":"3D",pitch:a.pitch,"show-label":!1,center:a.center,zoom:a.zoom,onClick:a.clickMap,onInit:a.initMap},{default:v(()=>[l(a.ElAmapLoca,{onClick:a.clickMarker},{default:v(()=>[l(a.ElAmapLocaIcon,{visible:a.visible,"source-data":a.sourceData,"layer-style":a.layerStyle},null,8,["visible","source-data","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),r("div",B,[r("button",{onClick:a.changeVisible},w(a.visible?"隐藏":"显示"),1)])],64)}const K=D(O,[["render",N],["__file","loca.vue"]]);export{K as default};
