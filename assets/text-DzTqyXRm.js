import{E as _}from"./index-kii6nLnG.js";import{p as v,f as l,_ as B,o as r,c as x,a as n,d as p,w as T,al as d,az as f,ao as k,q as M}from"./app-BIv4BGsj.js";import{E as h}from"./index-XVBT3eyP.js";const A=v({__name:"text",setup(b,{expose:c}){c();const s=l([121.5273285,31.21515044]),e=l(16),a=l([{position:[121.5273285,31.21515044],id:1,text:"数组1"}]),o=l({position:[121.5273285,31.21315058],visible:!0,draggable:!1,text:"测试Text"}),m={center:s,zoom:e,texts:a,componentText:o,clickMap:t=>{console.log("click map: ",t)},initMap:t=>{console.log("init map: ",t)},changePosition:()=>{const t=o.value.position;o.value.position=[t[0]+.002,t[1]-.002]},changeDraggable:()=>{o.value.draggable=!o.value.draggable},toggleVisible:()=>{o.value.visible=!o.value.visible},addMarker:()=>{const t={position:[121.5273285+(Math.random()-.5)*.02,31.21515044+(Math.random()-.5)*.02],id:new Date().getTime(),text:new Date().getTime()};a.value.push(t)},removeMarker:()=>{a.value.length&&a.value.splice(a.value.length-1,1)},initText:t=>{console.log("marker init: ",t)},clickText:()=>{alert("点击了标号")},clickArrayMarker:t=>{alert(`点击了标号,标号ID： ${t.id}`)},get ElAmap(){return h},get ElAmapText(){return _}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),C={class:"map-page-container"},E={class:"toolbar"};function D(b,c,s,e,a,o){return r(),x(d,null,[n("div",C,[p(e.ElAmap,{"show-label":!1,center:e.center,zoom:e.zoom,onClick:e.clickMap,onInit:e.initMap},{default:T(()=>[p(e.ElAmapText,{position:e.componentText.position,"text-style":{color:"red"},visible:e.componentText.visible,text:e.componentText.text,draggable:e.componentText.draggable,onInit:e.initText,onClick:e.clickText},null,8,["position","visible","text","draggable"]),(r(!0),x(d,null,f(e.texts,(i,u)=>(r(),M(e.ElAmapText,{key:u,position:i.position,text:i.text,onClick:g=>{e.clickArrayMarker(i,g)}},null,8,["position","text","onClick"]))),128))]),_:1},8,["center","zoom"])]),n("div",E,[n("button",{onClick:e.changePosition}," 更换位置 "),n("button",{onClick:e.toggleVisible},k(e.componentText.visible?"隐藏标记":"显示标记"),1),n("button",{onClick:e.changeDraggable},k(e.componentText.draggable?"禁止标记移动":"允许标记移动"),1),n("button",{onClick:e.addMarker}," 添加标记 "),n("button",{onClick:e.removeMarker}," 移除标记 ")])],64)}const q=B(A,[["render",D],["__file","text.vue"]]);export{q as default};
