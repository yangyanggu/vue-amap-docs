import{b as k,c as V,u as w,a as j,E as M}from"./index-C2AhXWuI.js";import{p as C,_ as A,o as E,c as x,f as d,a as v,d as g,w as S,ao as z,al as F}from"./app-BIv4BGsj.js";import{u as O,E as P}from"./index-XVBT3eyP.js";const B=C({name:"ElAmapLocaLine",inheritAttrs:!1,__name:"LineLayer",props:k({}),emits:V,setup(a,{expose:m,emit:u}){const t=a,l=u;let o,n,c;const{$$getInstance:p,parentInstance:b}=O(i=>new Promise(y=>{o=new Loca.LineLayer(i);const r=j({parentInstance:b,$amapComponent:o,emits:l,props:t,setStyle(){const s=Object.assign({},{color:"#fff",lineWidth:2,altitude:0,borderWidth:0,borderColor:"#fff",dashArray:[10,0,10,0]},t.defaultStyleValue),W=Object.assign({},{color:(_,e)=>(e.properties=e.properties||{},e.properties.color===void 0?s.color:e.properties.color),lineWidth:(_,e)=>(e.properties=e.properties||{},e.properties.lineWidth===void 0?s.lineWidth:e.properties.lineWidth),altitude:(_,e)=>(e.properties=e.properties||{},e.properties.altitude===void 0?s.altitude:e.properties.altitude),borderWidth:(_,e)=>(e.properties=e.properties||{},e.properties.borderWidth===void 0?s.borderWidth:e.properties.borderWidth),borderColor:(_,e)=>(e.properties=e.properties||{},e.properties.borderColor===void 0?s.borderColor:e.properties.borderColor),dashArray:(_,e)=>(e.properties=e.properties||{},e.properties.dashArray===void 0?s.dashArray:e.properties.dashArray)},t.layerStyle);o.setStyle(W)}});n=r._destroyComponent,c=r.setSource,y(o)}),{emits:l,watchRedirectFn:w({setSource(){c&&c()},$amapComponent:()=>o,props:t}),destroyComponent(){n&&n(),o=null}});m({$$getInstance:p});const L={props:t,emits:l,get $amapComponent(){return o},set $amapComponent(i){o=i},get _destroyComponent(){return n},set _destroyComponent(i){n=i},get _setSource(){return c},set _setSource(i){c=i},$$getInstance:p,parentInstance:b};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}});function I(a,m,u,t,l,o){return E(),x("div")}const h=A(B,[["render",I],["__file","LineLayer.vue"]]);h.install=a=>(a.component(h.name,h),a);const N=h,R=C({__name:"line",setup(a,{expose:m}){m();const u=d(8),t=d([116.335036,39.900082]),l=d(55),o=d("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/bj_bus.json"),n=["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"].reverse(),c=d({color(r,f){const s=r%n.length;return n[s]},lineWidth:(r,f)=>r%n.length*.1+2,altitude(r,f){return 100*(r%n.length)},dashArray:[10,0,10,0]}),p=d(!0),y={zoom:u,center:t,pitch:l,sourceUrl:o,colors:n,layerStyle:c,visible:p,changeVisible:()=>{p.value=!p.value},clickMap:r=>{console.log("click map: ",r)},initMap:r=>{console.log("init map: ",r)},get ElAmap(){return P},get ElAmapLoca(){return M},get ElAmapLocaLine(){return N}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),$={class:"map-page-container"},D={class:"toolbar"};function U(a,m,u,t,l,o){return E(),x(F,null,[v("div",$,[g(t.ElAmap,{"view-mode":"3D",pitch:t.pitch,"show-label":!1,center:t.center,zoom:t.zoom,onClick:t.clickMap,onInit:t.initMap},{default:S(()=>[g(t.ElAmapLoca,null,{default:S(()=>[g(t.ElAmapLocaLine,{visible:t.visible,"source-url":t.sourceUrl,"layer-style":t.layerStyle},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),v("div",D,[v("button",{onClick:t.changeVisible},z(t.visible?"隐藏":"显示"),1)])],64)}const K=A(R,[["render",U],["__file","line.vue"]]);export{K as default};
