import{n as w,b as z,au as k,av as B,M as D}from"./three.module-BVXrWKE2.js";import{p as M,f as r,_ as S,o as V,c as j,a as c,d as o,w as E,ao as C,al as F}from"./app-BIv4BGsj.js";import{E as G}from"./index-XVBT3eyP.js";import{E as P}from"./index-kii6nLnG.js";import{E as H,a as O}from"./index-CrMMG-jN.js";import{E as I}from"./index-DC_FVfKx.js";import{E as N,a as U,b as q}from"./index-v9WK8DZN.js";import"./arrayEach-Bzrg1Ilf.js";const J=M({__name:"three-layer-event",setup(f,{expose:i}){i();const s="https://vue-amap.guyixi.cn/",e=r(18),h=r([121.59996,31.197646]),n=r(!0),p=r([121.59996,31.197646]),y=r({x:90,y:0,z:0}),L=r({urls:["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"],path:`${s}/hdr/`}),u=[121.59896,31.197646],v=()=>{n.value=!n.value},b=t=>{const a=new w().load("https://a.amap.com/jsapi_demos/static/demo-center-v2/three.jpeg");a.minFilter=z;const T=new k({color:16773360,depthTest:!0,transparent:!0,map:a}),x=new B(50,50,50),m=new D(x,T);m.userData.acceptEvent=!0;const d=t.convertLngLat(u);m.position.set(d[0],d[1],0),t.add(m)},A=(t,a)=>{a.$$startAnimations(),console.log("gltf object: ",t),console.log("gltf $vue: ",a)},_=t=>{console.log("click layer: ",t)},l=r(!1),g={baseUrl:s,zoom:e,center:h,visible:n,position:p,rotation:y,hdrOptions:L,meshPosition:u,switchVisible:v,initLayer:b,init:A,clickLayer:_,meshVisible:l,mouseoverLayer:t=>{l.value=!0,console.log("mouseoverLayer layer: ",t)},mouseoutLayer:t=>{l.value=!1,console.log("mouseoutLayer layer: ",t)},get ElAmap(){return G},get ElAmapText(){return P},get ElAmapLayerThree(){return H},get ElAmapThreeGltf(){return I},get ElAmapThreeLightAmbient(){return O},get ElAmapThreeLightDirectional(){return N},get ElAmapThreeLightHemisphere(){return U},get ElAmapThreeLightSpot(){return q}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),K={class:"map-page-container"},Q={class:"toolbar"};function R(f,i,s,e,h,n){return V(),j(F,null,[c("div",K,[o(e.ElAmap,{"show-label":!1,center:e.center,zoom:e.zoom,"view-mode":"3D",pitch:60,"show-building-block":!1,features:["bg","road"]},{default:E(()=>[o(e.ElAmapText,{visible:e.meshVisible,position:e.meshPosition,offset:[0,-80],text:"测试模型事件"},null,8,["visible"]),o(e.ElAmapLayerThree,{hdr:e.hdrOptions,"create-canvas":!0,onInit:e.initLayer,onClick:e.clickLayer,onMouseover:e.mouseoverLayer,onMouseout:e.mouseoutLayer},{default:E(()=>[o(e.ElAmapThreeLightAmbient,{color:"rgb(255,255,255)",intensity:.6}),o(e.ElAmapThreeLightDirectional,{color:"rgb(255,0,255)",intensity:1,position:{x:0,y:1,z:0}}),o(e.ElAmapThreeLightHemisphere,{color:"blue",intensity:1,position:{x:1,y:0,z:0}}),o(e.ElAmapThreeLightSpot,{position:{x:0,y:1,z:0}}),o(e.ElAmapThreeGltf,{url:e.baseUrl+"/gltf/sgyj_point_animation.gltf",position:e.position,scale:[10,10,10],rotation:e.rotation,visible:e.visible,onInit:e.init},null,8,["url","position","rotation","visible"])]),_:1},8,["hdr"])]),_:1},8,["center","zoom"])]),c("div",Q,[c("button",{onClick:i[0]||(i[0]=p=>e.switchVisible())},C(e.visible?"隐藏":"显示"),1)])],64)}const ie=S(J,[["render",R],["__file","three-layer-event.vue"]]);export{ie as default};
