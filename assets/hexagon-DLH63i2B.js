import{b as F,c as H,u as V,a as w,E as D}from"./index-C2AhXWuI.js";import{p as A,_ as L,o as B,c as k,f as u,a as v,d as S,w as E,ao as M,al as T}from"./app-BIv4BGsj.js";import{u as j,E as z}from"./index-XVBT3eyP.js";const N=A({name:"ElAmapLocaHexagon",inheritAttrs:!1,__name:"HexagonLayer",props:F({cullface:{type:String},acceptLight:{type:Boolean,default:!0},shininess:{type:Number},hasSide:{type:Boolean,default:!0},depth:{type:Boolean,default:!0}}),emits:H,setup(c,{expose:m,emit:_}){const r=c,p=_;let e,s,i;const{$$getInstance:g,parentInstance:h}=j(l=>new Promise(b=>{e=new Loca.HexagonLayer(l);const f=w({parentInstance:h,$amapComponent:e,emits:p,props:r,setStyle(){const n=Object.assign({},{topColor:"#fff",sideTopColor:"#fff",sideBottomColor:"#fff",altitude:0,height:0,radius:1e3,gap:0,unit:"meter"},r.defaultStyleValue),a={topColor:(y,t)=>(t.properties=t.properties||{},t.properties.topColor===void 0?n.topColor:t.properties.topColor),sideTopColor:(y,t)=>(t.properties=t.properties||{},t.properties.sideTopColor===void 0?n.sideTopColor:t.properties.sideTopColor),sideBottomColor:(y,t)=>(t.properties=t.properties||{},t.properties.sideBottomColor===void 0?n.sideBottomColor:t.properties.sideBottomColor),altitude:(y,t)=>(t.properties=t.properties||{},t.properties.altitude===void 0?n.altitude:t.properties.altitude),height:(y,t)=>(t.properties=t.properties||{},t.properties.height===void 0?n.height:t.properties.height),radius:n.radius,gap:n.gap,unit:n.unit},o=Object.assign({},a,r.layerStyle);e.setStyle(o)}});s=f._destroyComponent,i=f.setSource,b(e)}),{emits:p,watchRedirectFn:V({setSource(){i&&i()},$amapComponent:()=>e,props:r}),destroyComponent(){s&&s(),e=null}});m({$$getInstance:g});const d={props:r,emits:p,get $amapComponent(){return e},set $amapComponent(l){e=l},get _destroyComponent(){return s},set _destroyComponent(l){s=l},get _setSource(){return i},set _setSource(l){i=l},$$getInstance:g,parentInstance:h};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});function O(c,m,_,r,p,e){return B(),k("div")}const C=L(N,[["render",O],["__file","HexagonLayer.vue"]]);C.install=c=>(c.component(C.name,C),c);const P=C,I=A({__name:"hexagon",setup(c,{expose:m}){m();const _=u(10),r=u([120.115196,30.17133]),p=u(55),e=["#F4FFB3","#BFDDA8","#96CA8D","#75BA89","#5EAC86","#4D9A96","#3F748F","#1D3748"].reverse(),s=[100,200,300,900,1e3,1200,1500,3e3];function i(n){let a=0;return n.forEach(o=>{a+=o.properties.rank}),a}const g=u("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/hz_road_level.json"),h=u({unit:"meter",radius:120,gap:0,altitude:0,height(n,a){const o=i(a.coordinates);return o<20?s[0]:o<40?s[1]:o<60?s[2]:o<80?s[3]:o<100?s[4]:o<120?s[5]:o<130?s[6]:s[7]},topColor(n,a){const o=i(a.coordinates);return o<20?e[0]:o<40?e[1]:o<60?e[2]:o<80?e[3]:o<100?e[4]:o<120?e[5]:o<130?e[6]:e[7]},sideBottomColor(n,a){const o=i(a.coordinates);return o<20?e[0]:o<40?e[1]:o<60?e[2]:o<80?e[3]:o<100?e[4]:o<120?e[5]:o<130?e[6]:e[7]},sideTopColor(n,a){const o=i(a.coordinates);return o<20?e[0]:o<40?e[1]:o<60?e[2]:o<80?e[3]:o<100?e[4]:o<120?e[5]:o<130?e[6]:e[7]}}),d=u(!0),x={zoom:_,center:r,pitch:p,colors:e,heights:s,sum:i,sourceUrl:g,layerStyle:h,visible:d,changeVisible:()=>{d.value=!d.value},clickMap:n=>{console.log("click map: ",n)},initMap:n=>{console.log("init map: ",n)},get ElAmap(){return z},get ElAmapLoca(){return D},get ElAmapLocaHexagon(){return P}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),R={class:"map-page-container"},$={class:"toolbar"};function U(c,m,_,r,p,e){return B(),k(T,null,[v("div",R,[S(r.ElAmap,{"view-mode":"3D",pitch:r.pitch,"show-label":!1,center:r.center,zoom:r.zoom,onClick:r.clickMap,onInit:r.initMap},{default:E(()=>[S(r.ElAmapLoca,null,{default:E(()=>[S(r.ElAmapLocaHexagon,{visible:r.visible,"source-url":r.sourceUrl,"layer-style":r.layerStyle},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),v("div",$,[v("button",{onClick:r.changeVisible},M(r.visible?"隐藏":"显示"),1)])],64)}const J=L(I,[["render",U],["__file","hexagon.vue"]]);export{J as default};
