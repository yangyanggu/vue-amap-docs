import{p as M,_ as y,o as v,c as E,f as m,a as u,d as k,w as A,ao as f,al as B}from"./app-BIv4BGsj.js";import{b as h,u as S,E as C}from"./index-XVBT3eyP.js";const z=M({name:"ElAmapElasticMarker",inheritAttrs:!1,__name:"ElasticMarker",props:h({position:{type:[Array,Object],required:!0},title:{type:String},offset:{type:[Array,Object]},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},zoomStyleMapping:{type:Object},styles:{type:Array},extData:{type:Object,default:()=>null}}),emits:["init","update:position"],setup(i,{expose:r,emit:l}){const e=l;let t;const{$$getInstance:o,parentInstance:a}=S((n,_)=>new Promise(p=>{AMap.plugin(["AMap.ElasticMarker"],()=>{t=new AMap.ElasticMarker(n),_.add(t),d(),p(t)})}),{emits:e,destroyComponent(){t&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.remove(t),t=null)}}),d=()=>{t.on("dragend",()=>{c()}),t.on("touchend",()=>{c()})},c=()=>{const n=t.getPosition();e("update:position",n==null?void 0:n.toArray())};r({$$getInstance:o});const b={emits:e,get $amapComponent(){return t},set $amapComponent(n){t=n},$$getInstance:o,parentInstance:a,bindModelEvents:d,emitPosition:c};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function x(i,r,l,e,t,o){return v(),E("div")}const g=y(z,[["render",x],["__file","ElasticMarker.vue"]]);g.install=i=>(i.component(g.name,g),i);const j=g,F=M({__name:"elastic-marker",setup(i,{expose:r}){r();const l=m(16),e=m([116.412866,39.88365]),t=m(!1),o=m({position:[116.412866,39.88365],visible:!0,draggable:!1,zoomStyleMapping:{14:0,15:0,16:1,17:1,18:1,19:1,20:1},styles:[{icon:{img:"https://a.amap.com/jsapi_demos/static/resource/img/故宫.png",size:[16,16],anchor:"bottom-center",fitZoom:14,scaleFactor:2,maxScale:2,minScale:1},label:{content:"祈年殿",position:"BM",minZoom:15}},{icon:{img:"https://a.amap.com/jsapi_demos/static/resource/img/qiniandian.png",size:[128,160],anchor:"bottom-center",fitZoom:17.5,scaleFactor:2,maxScale:2,minScale:.125},label:{content:"祈年殿",position:"BM"}}]}),p={zoom:l,center:e,draggable:t,componentMarker:o,changeVisible:()=>{o.value.visible=!o.value.visible},clickMap:s=>{console.log("click map: ",s)},initMap:s=>{console.log("init map: ",s)},changeDraggable:()=>{o.value.draggable=!o.value.draggable},clickMarker:()=>{alert("点击了标号")},markerInit:s=>{console.log("marker init: ",s)},get ElAmap(){return C},get ElAmapElasticMarker(){return j}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),D={class:"map-page-container"},O={class:"toolbar"};function P(i,r,l,e,t,o){return v(),E(B,null,[u("div",D,[k(e.ElAmap,{center:e.center,zoom:e.zoom},{default:A(()=>[k(e.ElAmapElasticMarker,{position:e.componentMarker.position,title:"标号",visible:e.componentMarker.visible,draggable:e.componentMarker.draggable,"zoom-style-mapping":e.componentMarker.zoomStyleMapping,styles:e.componentMarker.styles,onInit:e.markerInit,onClick:e.clickMarker},null,8,["position","visible","draggable","zoom-style-mapping","styles"])]),_:1},8,["center","zoom"])]),u("div",O,[u("button",{onClick:r[0]||(r[0]=a=>e.changeVisible())},f(e.componentMarker.visible?"隐藏":"显示"),1),u("button",{onClick:e.changeDraggable},f(e.componentMarker.draggable?"禁止标记移动":"允许标记移动"),1)])],64)}const Z=y(F,[["render",P],["__file","elastic-marker.vue"]]);export{Z as default};
