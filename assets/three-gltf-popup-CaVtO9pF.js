import{p as D,f as e,_ as k,o as V,c as B,a as i,d as r,w as u,ao as f,al as T}from"./app-BIv4BGsj.js";import{E as H}from"./index-XVBT3eyP.js";import{E as z,a as I}from"./index-CrMMG-jN.js";import{E as L}from"./index-DC_FVfKx.js";import"./three.module-BVXrWKE2.js";import"./arrayEach-Bzrg1Ilf.js";const G=D({__name:"three-gltf-popup",setup(E,{expose:o}){o();const s="https://vue-amap.guyixi.cn/",t=e(18),m=e([121.59996,31.197646]),a=e(!0),n=e({x:90,y:0,z:0}),l=e([121.60106,31.197646]),A=e({duration:1e3,smooth:!0}),g=e(90),_=e({urls:["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"],path:`${s}/hdr/`});let p=-1;const C=()=>{a.value=!a.value},w=()=>{b()},b=()=>{p=setInterval(()=>{const d=l.value[0]+Math.random()*1e-4,F=l.value[1]+Math.random()*1e-4,P=[d,F],y=Math.random()*360;l.value=P,g.value=y},1e3)},x=()=>{clearInterval(p)},c=e(!0),h=e(0),v={baseUrl:s,zoom:t,center:m,visible:a,rotation:n,carPosition:l,moveAnimation:A,carAngle:g,hdrOptions:_,get carInterval(){return p},set carInterval(d){p=d},switchVisible:C,initCar:w,startCar:b,stopCar:x,popupVisible:c,popupHeight:h,switchPopupVisible:()=>{c.value=!c.value},addPopupHeight:()=>{h.value+=2},subPopupHeight:()=>{h.value-=2},get ElAmap(){return H},get ElAmapLayerThree(){return z},get ElAmapThreeGltf(){return L},get ElAmapThreeLightAmbient(){return I}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),M={class:"map-page-container"},O=i("div",{style:{width:"100px",height:"100px",background:"#f44336bd",color:"#fff","text-align":"center","vertical-align":"middle"}}," 测试三维3D信息弹窗 ",-1),S=i("div",{style:{width:"100px",height:"100px",background:"#f44336bd",color:"#fff","text-align":"center","vertical-align":"middle"}}," 测试三维2D信息弹窗 ",-1),U={class:"toolbar"};function N(E,o,s,t,m,a){return V(),B(T,null,[i("div",M,[r(t.ElAmap,{"show-label":!1,center:t.center,zoom:t.zoom,"view-mode":"3D",pitch:60,"show-building-block":!1,features:["bg","road"]},{default:u(()=>[r(t.ElAmapLayerThree,{hdr:t.hdrOptions,"create-css-render":!0},{default:u(()=>[r(t.ElAmapThreeLightAmbient,{color:"rgb(255,255,255)",intensity:.6}),r(t.ElAmapThreeGltf,{visible:t.visible,url:t.baseUrl+"/gltf/car2.gltf",position:t.center,scale:[10,10,10],rotation:t.rotation,"show-popup":t.popupVisible,"popup-height":t.popupHeight,"popup-scale":.1,"popup-type":"3D"},{default:u(()=>[O]),_:1},8,["visible","url","position","rotation","show-popup","popup-height"]),r(t.ElAmapThreeGltf,{visible:t.visible,url:t.baseUrl+"/gltf/car2.gltf",position:t.carPosition,scale:[10,10,10],rotation:t.rotation,"move-animation":t.moveAnimation,angle:t.carAngle,"show-popup":t.popupVisible,"popup-height":t.popupHeight,onInit:t.initCar},{default:u(()=>[S]),_:1},8,["visible","url","position","rotation","move-animation","angle","show-popup","popup-height"])]),_:1},8,["hdr"])]),_:1},8,["center","zoom"])]),i("div",U,[i("button",{onClick:o[0]||(o[0]=n=>t.switchVisible())},f(t.visible?"隐藏":"显示"),1),i("button",{onClick:o[1]||(o[1]=n=>t.switchPopupVisible())},f(t.popupVisible?"隐藏popup":"显示popup"),1),i("button",{onClick:o[2]||(o[2]=n=>t.addPopupHeight())}," 增加popup高度 "),i("button",{onClick:o[3]||(o[3]=n=>t.subPopupHeight())}," 减少popup高度 "),i("button",{onClick:o[4]||(o[4]=n=>t.stopCar())}," 停止移动 "),i("button",{onClick:o[5]||(o[5]=n=>t.startCar())}," 继续移动 ")])],64)}const Z=k(G,[["render",N],["__file","three-gltf-popup.vue"]]);export{Z as default};
