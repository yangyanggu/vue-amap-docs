import{b as M,u as I,k as g,E as A}from"./index-XVBT3eyP.js";import{p as b,_ as y,o as h,c as v,f as _,a as d,d as f,w as $,ao as w,al as C}from"./app-BIv4BGsj.js";const E=b({name:"ElAmapLayerIndoorMap",inheritAttrs:!1,__name:"IndoorMap",props:M({opacity:{type:Number},cursor:{type:String},hideFloorBar:{type:Boolean,default:!1}}),emits:["init"],setup(a,{expose:r,emit:p}){const o=p;let e;const{$$getInstance:l,parentInstance:n}=I((t,s)=>new Promise(i=>{AMap.plugin(["AMap.IndoorMap"],()=>{e=new AMap.IndoorMap(t);const u=s.getLayers();u.push(e),s.setLayers(u),i(e)})}),{emits:o,watchRedirectFn:{__hideFloorBar(t){t?e.showFloorBar():e.hideFloorBar()}},destroyComponent(){if(e&&(n!=null&&n.$amapComponent)){const t=n.$amapComponent.getLayers();let s=-1;for(let i=0;i<t.length;i++)if(g(t[i])){s=i;break}s>-1&&(t.splice(s,1),n.$amapComponent.setLayers(t)),e=null}}});r({$$getInstance:l});const c={emits:o,get $amapComponent(){return e},set $amapComponent(t){e=t},$$getInstance:l,parentInstance:n};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function B(a,r,p,o,e,l){return h(),v("div")}const m=y(E,[["render",B],["__file","IndoorMap.vue"]]);m.install=a=>(a.component(m.name,m),a);const x=m,L=b({__name:"indoor-map",setup(a,{expose:r}){r();const p=_(14),o=_([121.5273285,31.21515044]),e=_(!0),c={zoom:p,center:o,visible:e,switchVisible:()=>{e.value=!e.value},init:t=>{t.showIndoorMap("B000A9VHIG")},get ElAmap(){return A},get ElAmapLayerIndoorMap(){return x}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),F={class:"map-page-container"},S={class:"toolbar"};function V(a,r,p,o,e,l){return h(),v(C,null,[d("div",F,[f(o.ElAmap,{center:o.center,zoom:o.zoom},{default:$(()=>[f(o.ElAmapLayerIndoorMap,{visible:o.visible,onInit:o.init},null,8,["visible"])]),_:1},8,["center","zoom"])]),d("div",S,[d("button",{onClick:r[0]||(r[0]=n=>o.switchVisible())},w(o.visible?"隐藏":"显示"),1)])],64)}const P=y(L,[["render",V],["__file","indoor-map.vue"]]);export{P as default};
