import{E as D}from"./index-Xg_g_mSF.js";import{p as S,f as e,_ as w,o as z,c as C,a as i,d as r,w as v,ao as F,al as j}from"./app-BIv4BGsj.js";import{E as I}from"./index-XVBT3eyP.js";import{E as M}from"./index-C2AhXWuI.js";const O=S({__name:"icon",setup(h,{expose:l}){l();const m=e(4.8),a=e([105.601,35.32]),p=e(55),c={1:"https://a.amap.com/Loca/static/loca-v2/demos/images/traffic-control.png",2:"https://a.amap.com/Loca/static/loca-v2/demos/images/jam.png",3:"https://a.amap.com/Loca/static/loca-v2/demos/images/construction.png",4:"https://a.amap.com/Loca/static/loca-v2/demos/images/close.png",5:"https://a.amap.com/Loca/static/loca-v2/demos/images/fog.png",0:"https://a.amap.com/Loca/static/loca-v2/demos/images/accident.png"},d=e({}),y=e({unit:"px",icon:(t,s)=>{const o=s.properties.rawData;return c[o.type%Object.keys(c).length]},iconSize:[40,40],rotation:0}),n=e(!0),b=()=>{n.value=!n.value},E=t=>{console.log("click map: ",t)},L=t=>{console.log("init map: ",t),_()},_=()=>{fetch("//a.amap.com/Loca/static/loca-v2/demos/mock_data/events.js").then(t=>t.text()).then(t=>{const s=t.split("=");let o=[];if(s.length===2&&(o=JSON.parse(s[1].trim())),o.length>0){const k=o[0].events.map(f=>{const g=f.lngLat.split(","),x=[parseFloat(g[0]),parseFloat(g[1])];return{type:"Feature",properties:{rawData:f},geometry:{type:"Point",coordinates:x}}});d.value=Object.freeze({type:"FeatureCollection",features:k})}})},u={zoom:m,center:a,pitch:p,trafficIcons:c,sourceData:d,layerStyle:y,visible:n,changeVisible:b,clickMap:E,initMap:L,createData:_,get ElAmap(){return I},get ElAmapLoca(){return M},get ElAmapLocaIcon(){return D}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),V={class:"map-page-container"},B={class:"toolbar"};function N(h,l,m,a,p,c){return z(),C(j,null,[i("div",V,[r(a.ElAmap,{"view-mode":"3D",pitch:a.pitch,"show-label":!1,center:a.center,zoom:a.zoom,onClick:a.clickMap,onInit:a.initMap},{default:v(()=>[r(a.ElAmapLoca,null,{default:v(()=>[r(a.ElAmapLocaIcon,{visible:a.visible,"source-data":a.sourceData,"layer-style":a.layerStyle},null,8,["visible","source-data","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),i("div",B,[i("button",{onClick:a.changeVisible},F(a.visible?"隐藏":"显示"),1)])],64)}const H=w(O,[["render",N],["__file","icon.vue"]]);export{H as default};
