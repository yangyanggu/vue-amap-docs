import{b as V,c as W,u as w,a as F,E as M}from"./index-C2AhXWuI.js";import{p as E,_ as A,o as P,c as x,f as u,a as g,d as L,w as S,ao as j,al as B}from"./app-BIv4BGsj.js";import{u as z,E as I}from"./index-XVBT3eyP.js";const O=E({name:"ElAmapLocaPulseLine",inheritAttrs:!1,__name:"PulseLineLayer",props:V({depth:{type:Boolean,default:!0}}),emits:W,setup(s,{expose:d,emit:m}){const e=s,l=m;let r,a,n;const{$$getInstance:_,parentInstance:p}=z(i=>new Promise(v=>{r=new Loca.PulseLineLayer(i);const b=F({parentInstance:p,$amapComponent:r,emits:l,props:e,setStyle(){const t=Object.assign({},{lineWidth:1,headColor:"rgba(0, 0, 0, 0.75)",trailColor:"rgba(0, 0, 0, 0.25)",altitude:0,interval:1,duration:2e3},e.defaultStyleValue),c={lineWidth:(f,o)=>(o.properties=o.properties||{},o.properties.lineWidth===void 0?t.lineWidth:o.properties.lineWidth),headColor:(f,o)=>(o.properties=o.properties||{},o.properties.headColor===void 0?t.headColor:o.properties.headColor),trailColor:(f,o)=>(o.properties=o.properties||{},o.properties.trailColor===void 0?t.trailColor:o.properties.trailColor),altitude:t.altitude,interval:t.interval,duration:t.duration},k=Object.assign({},c,e.layerStyle);r.setStyle(k)}});a=b._destroyComponent,n=b.setSource,v(r)}),{emits:l,watchRedirectFn:w({setSource(){n&&n()},$amapComponent:()=>r,props:e}),destroyComponent(){a&&a(),r=null}});d({$$getInstance:_});const h={props:e,emits:l,get $amapComponent(){return r},set $amapComponent(i){r=i},get _destroyComponent(){return a},set _destroyComponent(i){a=i},get _setSource(){return n},set _setSource(i){n=i},$$getInstance:_,parentInstance:p};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}});function R(s,d,m,e,l,r){return P(),x("div")}const y=A(O,[["render",R],["__file","PulseLineLayer.vue"]]);y.install=s=>(s.component(y.name,y),s);const N=y,D=E({__name:"pulse-line",setup(s,{expose:d}){d();const m=u(5),e=u([109.595668,35.447184]),l=u(55),r=u("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/data-line-in.json"),a=["#ECFFB1","#146968","#146968","#146968","#146968","#146968","#146968","#146968"],n=["rgba(255,178,6, 0.2)","rgba(255,178,6, 0.2)","rgba(20,105,104, 0.2)","rgba(20,105,104, 0.2)","rgba(20,105,104, 0.2)","rgba(20,105,104, 0.2)","rgba(20,105,104, 0.2)","rgba(20,105,104, 0.2)"],_=u({altitude:0,lineWidth:(t,c)=>c.properties.lineWidthRatio*4+1,headColor:(t,c)=>a[c.properties.type],trailColor:(t,c)=>n[c.properties.type],interval:.5,duration:2e3}),p=u(!0),C={zoom:m,center:e,pitch:l,sourceUrl:r,headColors:a,trailColors:n,layerStyle:_,visible:p,changeVisible:()=>{p.value=!p.value},clickMap:t=>{console.log("click map: ",t)},initMap:t=>{console.log("init map: ",t)},initLoca:t=>{t.animate.start()},get ElAmap(){return I},get ElAmapLoca(){return M},get ElAmapLocaPulseLine(){return N}};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),U={class:"map-page-container"},$={class:"toolbar"};function q(s,d,m,e,l,r){return P(),x(B,null,[g("div",U,[L(e.ElAmap,{"view-mode":"3D",pitch:e.pitch,"show-label":!1,center:e.center,zoom:e.zoom,onClick:e.clickMap,onInit:e.initMap},{default:S(()=>[L(e.ElAmapLoca,{onInit:e.initLoca},{default:S(()=>[L(e.ElAmapLocaPulseLine,{visible:e.visible,"source-url":e.sourceUrl,"layer-style":e.layerStyle,"visible-duration":500},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),g("div",$,[g("button",{onClick:e.changeVisible},j(e.visible?"隐藏":"显示"),1)])],64)}const K=A(D,[["render",q],["__file","pulse-line.vue"]]);export{K as default};
