import{b as k,c as V,u as w,a as M,E as j}from"./index-C2AhXWuI.js";import{p as E,_ as L,o as x,c as P,f as d,a as f,d as S,w as C,ao as z,al as F}from"./app-BIv4BGsj.js";import{u as O,E as B}from"./index-XVBT3eyP.js";const D=E({name:"ElAmapLocaPoint",inheritAttrs:!1,__name:"PointLayer",props:k({blend:{type:String}}),emits:V,setup(a,{expose:u,emit:m}){const o=a,c=m;let t,n,l;const{$$getInstance:p,parentInstance:h}=O(s=>new Promise(_=>{t=new Loca.PointLayer(s);const i=M({parentInstance:h,$amapComponent:t,emits:c,props:o,setStyle(){const r=Object.assign({},{radius:20,color:"#fff",unit:"px",borderWidth:10,borderColor:"#fff",blurWidth:-1},o.defaultStyleValue),A={radius:(y,e)=>(e.properties=e.properties||{},e.properties.radius===void 0?r.radius:e.properties.radius),color:(y,e)=>(e.properties=e.properties||{},e.properties.color===void 0?r.color:e.properties.color),unit:r.unit,borderWidth:(y,e)=>(e.properties=e.properties||{},e.properties.borderWidth===void 0?r.borderWidth:e.properties.borderWidth),borderColor:(y,e)=>(e.properties=e.properties||{},e.properties.borderColor===void 0?r.borderColor:e.properties.borderColor),blurWidth:(y,e)=>(e.properties=e.properties||{},e.properties.blurWidth===void 0?r.blurWidth:e.properties.blurWidth)},W=Object.assign({},A,o.layerStyle);t.setStyle(W)}});n=i._destroyComponent,l=i.setSource,_(t)}),{emits:c,watchRedirectFn:w({setSource(){l&&l()},$amapComponent:()=>t,props:o}),destroyComponent(){n&&n(),t=null}});u({$$getInstance:p});const v={props:o,emits:c,get $amapComponent(){return t},set $amapComponent(s){t=s},get _destroyComponent(){return n},set _destroyComponent(s){n=s},get _setSource(){return l},set _setSource(s){l=s},$$getInstance:p,parentInstance:h};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}});function I(a,u,m,o,c,t){return x(),P("div")}const g=L(D,[["render",I],["__file","PointLayer.vue"]]);g.install=a=>(a.component(g.name,g),a);const N=g,R=E({__name:"point",setup(a,{expose:u}){u();const m=d(4.8),o=d([105.601,35.32]),c=d(55),t=d("https://a.amap.com/Loca/static/loca-v2/demos/mock_data/gdp.json"),n=["rgba(254,255,198,0.95)","rgba(255,238,149,0.95)","rgba(255,217,99,0.95)","rgba(255,175,43,0.95)","rgba(255,135,24,0.95)","rgba(234,10,0,0.95)","rgba(195,0,0,0.95)","rgba(139,0,0,0.95)"],l=d({unit:"meter",radius:(i,b)=>b.properties.人口*100,color:(i,b)=>{const r=Math.min(7,~~(b.properties.人均GDP/1e4));return n[r]}}),p=d(!0),_={zoom:m,center:o,pitch:c,sourceUrl:t,colors:n,layerStyle:l,visible:p,changeVisible:()=>{p.value=!p.value},clickMap:i=>{console.log("click map: ",i)},initMap:i=>{console.log("init map: ",i)},get ElAmap(){return B},get ElAmapLoca(){return j},get ElAmapLocaPoint(){return N}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),$={class:"map-page-container"},U={class:"toolbar"};function G(a,u,m,o,c,t){return x(),P(F,null,[f("div",$,[S(o.ElAmap,{"view-mode":"3D",pitch:o.pitch,"show-label":!1,center:o.center,zoom:o.zoom,onClick:o.clickMap,onInit:o.initMap},{default:C(()=>[S(o.ElAmapLoca,null,{default:C(()=>[S(o.ElAmapLocaPoint,{visible:o.visible,"source-url":o.sourceUrl,"layer-style":o.layerStyle,"visible-duration":500},null,8,["visible","source-url","layer-style"])]),_:1})]),_:1},8,["pitch","center","zoom"])]),f("div",U,[f("button",{onClick:o.changeVisible},z(o.visible?"隐藏":"显示"),1)])],64)}const K=L(R,[["render",G],["__file","point.vue"]]);export{K as default};
